
import java.io.*;  //for BufferedReader, InputStreamReader, PrintWriter
import java.net.*;  //for ServerSocket, Socket

// 10.13.32.207
// 70.230.112.35
public class Server
{

  private ServerConnection white;
  private ServerConnection black;

 public static void main(String[] args) throws IOException
 {
     Server s = new Server();
 }


  public Server() throws IOException
  {
      ServerSocket server = new ServerSocket(1911);  //start server on port 1911

      while (true)
      {
        Socket socket = server.accept();  //wait for client to connect

        if (white == null)
        {
        white = new ServerConnection(socket, this);
        white.send("White");
        }
        else if (white != null && black == null)
        {
          black = new ServerConnection(socket, this);
          black.send("Black");
        }
      }

  }


        public void transferMove(String move)
        {
          int color;
          color = Integer.parseInt(move.substring(4,5));
          if (color == 0)
          {
            black.receiveMove(move.substring(0,4));
            black.send("changeTurn");
            white.send("changeTurn");
          }
          else
          {
            white.receiveMove(move.substring(0,4));
            black.send("changeTurn");
            white.send("changeTurn");
          }

        }










}
